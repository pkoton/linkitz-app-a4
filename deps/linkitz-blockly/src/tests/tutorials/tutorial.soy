{namespace Linkitz.tutorial}

/**
 * Web page structure.
 */
{template .start}
  <script src="../../blockly_compressed.js"></script>
  <script src="../../blocks_compressed.js"></script>
  <script src="../../javascript_compressed.js"></script>
  <script src="../../blocks/linkitzBlocks.js"></script>
  <script type="text/javascript" src="simulator.js"></script>
  
<table width =100%>
 <tr>
  <td>
    <h1>
     <span id="title">
      Learn to Code Your Linkitz
     </span>
     {sp}&nbsp;{sp}
          {for $i in range(1, $ij.maxLevel + 1)}
            {sp}
            {if $i == $ij.level}
              <span class="tab" id="selected">{$i}</span>
            {else}
              {if $i < $ij.level}
                <a class="tab previous" href="?lang={$ij.lang}&level={$i}">{$i}</a>
              {else}
                <a class="tab" href="?lang={$ij.lang}&level={$i}">{$i}</a>
              {/if}
            {/if}
          {/for}
    </h1>
  </td>
  <td>
  lang selection goes here
  </td>
 </tr>
 <tr>
  <td colspan=2>
  {switch $ij.level}
      {case 1}
        Hello, World! Your first Linkitz program!
      {case 2}
        Flash a color 
      {case 3}
        Flash two or three colors at the same time
      {case 4}
        The motion trigger
       {default}
       Another lesson
  {/switch}
   </td>
  </tr>
 </table>
 <p>
 {switch $ij.level}
      {case 1}
        {msg meaning="lkz.description1" desc="description of tutorial 1"}
        Lets see how the Flash block works.<br>
        Drag the flash block to the workspace and drop it into the timing block.
        {/msg}
      {case 2}
      {msg meaning="lkz.description2" desc="description of tutorial 2"}
      Make the flash block flash a specific color using the color_picker blocks.<br>
         Drag the flash block to the workspace. <br>
         Then drag a color_picker block to the workspace. <br>
         Connect it to the flash block.
      {/msg}
      {case 3}
      {msg meaning="lkz.description3" desc="description of tutorial 3"}
      Can you make Linkitz flash three colors at the same time? Try red, white, and blue!{sp}(optional hint)<br>
      What happens when you use four colors?<br>
      What happens if you try to flash five colors?
      {/msg}
      {case 4}
      {msg meaning="lkz.description4" desc="description of tutorial 4"}
      The <i> motion trigger</i> block makes your Linkitz do something when it senses motion.<br>
        Try making your Linkitz light up a different color when it sense motion.<br>
        Press the *put shake img here* shake button to test it.
      {/msg}
      {default}
      {msg meaning="lkz.description_default" desc="description when we have reached a  place with no specific description"}
      Try something new!
      {/msg}
 {/switch}
</p>
<table width =100%>    
 <tr>
  <td>
    {call .toolbox /}
    <div id="blockly" style="height: 480px; width: 600px;"></div>
   </td>
   <td>
     <div id="simDiv" style="height: 480px; width: 400px;background-color: #515c5c;
      font-family: sans-serif; font-size: larger;">
      <canvas id="canvas0" width="400" height="450">  
      <img src="../../images/linkitz_outline.png" alt="Linkitz outline" height="220" width="250">
      </canvas>
      <br>
      <button id="tryit_button" onclick="lkz.runJS()">Try it!</button> <button id="to_t2" onclick="location.href='t2.html'"> Next</button>
     </div>
   </td>
  </tr>
 </table>
{/template}

/**
 * Toolbox.
 */
{template .toolbox}
  <xml id="toolbox" style="display: none">
  {switch $ij.level}
      {case 1}
        <block type="flash_leds"></block>
      {case 2,3} 
       <block type="flash_leds"></block>
       <block type="colour_picker"></block>
       <block type="colour_picker"><field name="COLOUR">#FF7245</field></block>
       <block type="colour_picker"><field name="COLOUR">#ff6aa2</field></block>
       <block type="colour_picker"><field name="COLOUR">#ffe600</field></block>
       <block type="colour_picker"><field name="COLOUR">#009245</field></block>
       <block type="colour_picker"><field name="COLOUR">#66d9ff</field></block>
       <block type="colour_picker"><field name="COLOUR">#1329c3</field></block>
       <block type="colour_picker"><field name="COLOUR">#9862e6</field></block>
       <block type="colour_picker"><field name="COLOUR">#c9c9c9</field></block>
       {default} // 4 or more, this will be updated
       <category id="LED" colour="#873299" name="{msg meaning="lkz.Colour" desc="category - Blocks related to LED commands."}LED{/msg}">
        <block type="flash_leds"></block>
        <block type="colour_picker"></block>
        <block type="colour_picker"><field name="COLOUR">#FF7245</field></block>
        <block type="colour_picker"><field name="COLOUR">#ff6aa2</field></block>
        <block type="colour_picker"><field name="COLOUR">#ffe600</field></block>
        <block type="colour_picker"><field name="COLOUR">#009245</field></block>
        <block type="colour_picker"><field name="COLOUR">#66d9ff</field></block>
        <block type="colour_picker"><field name="COLOUR">#1329c3</field></block>
        <block type="colour_picker"><field name="COLOUR">#9862e6</field></block>
        <block type="colour_picker"><field name="COLOUR">#FFFFFF</field></block>
        <block type="led_attached"></block>
        <block type="usb_attached"></block>
      </category>
      <category id="Motion" colour="#0083CC" name="{msg meaning="lkz.Motion" desc="category - Blocks related to Motion commands."}Motion{/msg}">
      <block type="on_motion_trigger"></block>
      </category>     
  {/switch}
 </xml>
{/template}

